import{d as V,e as k,f as _,o as m,a as S,h as a,w as t,u as s,_ as C,i as L,j as o,k as b,l as B,g as n,v as c,x as p,m as g,y,q as v,p as h,z as q,A as N,s as j,t as E,B as A,C as D}from"./index-BGItb9Y2.js";import{_ as P,a as R}from"./index-C9ZvBiC3.js";import{L as U}from"./loader-circle-CnwOkv44.js";const z={class:"flex min-h-screen items-center justify-center"},M={class:"space-y-2"},T={class:"space-y-2"},F={class:"text-sm text-muted-foreground"},K=V({__name:"Login",setup(G){const f=E(),w=A(),r=k(),l=_(""),i=_(""),x=async()=>{var u;try{await r.login(l.value,i.value);const e=((u=w.query.redirect)==null?void 0:u.toString())||"/";e==="/login"||e==="/register"?f.push("/"):f.push(e)}catch(e){console.error("Login error:",e)}};return(u,e)=>{const $=D("router-link");return m(),S("div",z,[a(s(j),{class:"w-[350px]"},{default:t(()=>[a(s(C),null,{default:t(()=>[a(s(L),null,{default:t(()=>e[2]||(e[2]=[o("Login")])),_:1}),a(s(b),null,{default:t(()=>e[3]||(e[3]=[o("Enter your credentials to sign in")])),_:1})]),_:1}),a(s(B),null,{default:t(()=>[n("form",{onSubmit:q(x,["prevent"]),class:"space-y-4"},[n("div",M,[a(s(c),{for:"email"},{default:t(()=>e[4]||(e[4]=[o("Email")])),_:1}),a(s(p),{id:"email",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=d=>l.value=d),type:"email",placeholder:"user@example.com",required:""},null,8,["modelValue"])]),n("div",T,[a(s(c),{for:"password"},{default:t(()=>e[5]||(e[5]=[o("Password")])),_:1}),a(s(p),{id:"password",modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=d=>i.value=d),type:"password",required:""},null,8,["modelValue"])]),s(r).error?(m(),g(s(R),{key:0,variant:"destructive"},{default:t(()=>[a(s(P),null,{default:t(()=>[o(y(s(r).error),1)]),_:1})]),_:1})):v("",!0),a(s(h),{type:"submit",class:"w-full",disabled:s(r).loading},{default:t(()=>[s(r).loading?(m(),g(s(U),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):v("",!0),o(" "+y(s(r).loading?"Signing in...":"Sign in"),1)]),_:1},8,["disabled"])],32)]),_:1}),a(s(N),{class:"flex justify-center"},{default:t(()=>[n("p",F,[e[7]||(e[7]=o(" Don't have an account? ")),a($,{to:"/register",class:"text-primary hover:underline"},{default:t(()=>e[6]||(e[6]=[o(" Sign up ")])),_:1})])]),_:1})]),_:1})])}}});export{K as default};
